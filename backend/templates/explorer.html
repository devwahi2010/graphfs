{% extends 'base.html' %}
{% block content %}
<h1 class="text-2xl font-semibold mb-4">Explorer</h1>
{% if q %}
  <p class="mb-4 text-gray-600">Search results for "<strong>{{ q }}</strong>"</p>
{% endif %}

<div class="bg-white border rounded-xl overflow-hidden shadow-sm">
  <table class="w-full text-left">
    <thead class="bg-gray-100 text-gray-600 text-sm">
      <tr>
        <th class="px-4 py-2">Name</th>
        <th class="px-4 py-2">Type</th>
        <th class="px-4 py-2">Size</th>
        <th class="px-4 py-2">Path</th>
        <th class="px-4 py-2">SHA-256</th>
      </tr>
    </thead>
    <tbody class="divide-y">
      {% for n in nodes %}
      <tr class="hover:bg-gray-50">
        <td class="px-4 py-2">
          <a class="text-blue-700 hover:underline" href="/node/{{ n.id }}/">{{ n.name }}</a>
        </td>
        <td class="px-4 py-2">{{ n.type }}</td>
        <td class="px-4 py-2">{{ n.size }}</td>
        <td class="px-4 py-2 text-gray-600 text-sm">{{ n.path|default:"—" }}</td>
        <td class="px-4 py-2 text-gray-600 text-xs">{{ n.sha256|default:"—" }}</td>
      </tr>
      {% empty %}
      <tr><td class="px-4 py-8 text-center text-gray-500" colspan="5">No items yet. Run the indexer.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
